# Production Environment Configuration Template
# Copy this file to .env and fill in your actual values

# ===========================================
# ENVIRONMENT CONFIGURATION
# ===========================================
NODE_ENV=production
PORT=3000

# ===========================================
# API & FRONTEND URLS
# ===========================================
# IMPORTANT: Replace with your actual production URLs
API_BASE_URL=https://api.yourapp.com
FRONTEND_URL=https://yourapp.com

# ===========================================
# SECURITY CONFIGURATION
# ===========================================
# CRITICAL: Generate a strong, unique JWT secret (32+ characters)
# You can use: openssl rand -base64 32
JWT_SECRET=REPLACE_WITH_STRONG_SECRET_32_CHARS_MINIMUM

# CORS Configuration - comma-separated list of allowed origins
# For production, specify exact domains instead of "*"
CORS_ORIGIN=https://yourapp.com,https://dashboard.yourapp.com

# ===========================================
# SUPABASE DATABASE CONFIGURATION
# ===========================================
# Get these from your Supabase project dashboard
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key-here

# ===========================================
# OPENAI CONFIGURATION
# ===========================================
# Get these from your OpenAI account
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_ORG_ID=org-your-organization-id-here

# ===========================================
# RATE LIMITING CONFIGURATION
# ===========================================
# Window duration in milliseconds (default: 15 minutes)
RATE_LIMIT_WINDOW_MS=900000

# Maximum requests per window (default: 100)
RATE_LIMIT_MAX_REQUESTS=100

# Maximum embed requests per window (default: 50)
EMBED_RATE_LIMIT_MAX=50

# ===========================================
# SECURITY & PERFORMANCE
# ===========================================
# BCrypt salt rounds for password hashing
BCRYPT_SALT_ROUNDS=12

# Enable Helmet security headers
HELMET_ENABLED=true

# ===========================================
# MONITORING & ANALYTICS
# ===========================================
# Enable request logging for analytics
ENABLE_REQUEST_LOGGING=true

# Log level: error, warn, info, debug
LOG_LEVEL=info

# ===========================================
# OPTIONAL: EXTERNAL SERVICES
# ===========================================
# Sentry DSN for error monitoring (optional but recommended)
SENTRY_DSN=https://your-sentry-dsn-here

# Redis URL for caching and rate limiting (optional but recommended)
# Format: redis://username:password@host:port
REDIS_URL=redis://localhost:6379

# ===========================================
# PRODUCTION CHECKLIST
# ===========================================
# Before deploying to production, ensure:
# ✅ All URLs are HTTPS
# ✅ JWT_SECRET is strong and unique
# ✅ CORS_ORIGIN is specific (not "*")
# ✅ Database credentials are correct
# ✅ OpenAI API key is valid and has sufficient quota
# ✅ Sentry is configured for error monitoring
# ✅ Redis is set up for caching (optional but recommended)
# ✅ SSL certificates are configured
# ✅ Database migrations have been run
# ✅ Production checks pass: node production-check.js
